{"openapi":"3.1.0","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/v1/devices/api/devices":{"get":{"summary":"Get Devices","description":"Get all devices with computed status and optional filtering","operationId":"get_devices_v1_devices_api_devices_get","parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by status: NEEDS_SETUP, NEEDS_TYPE, NEEDS_LOCATION, CONFIGURED, DECOMMISSIONED","title":"Status"},"description":"Filter by status: NEEDS_SETUP, NEEDS_TYPE, NEEDS_LOCATION, CONFIGURED, DECOMMISSIONED"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","description":"Maximum number of devices to return","default":100,"title":"Limit"},"description":"Maximum number of devices to return"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","description":"Number of devices to skip","default":0,"title":"Offset"},"description":"Number of devices to skip"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"summary":"Create Or Update Device","description":"Create or update a device","operationId":"create_or_update_device_v1_devices_api_devices_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","title":"Device Data"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/devices/api/devices/{deveui}":{"get":{"summary":"Get Device","description":"Get single device by DevEUI with computed status","operationId":"get_device_v1_devices_api_devices__deveui__get","parameters":[{"name":"deveui","in":"path","required":true,"schema":{"type":"string","title":"Deveui"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"summary":"Update Device","description":"Update device name and type","operationId":"update_device_v1_devices_api_devices__deveui__put","parameters":[{"name":"deveui","in":"path","required":true,"schema":{"type":"string","title":"Deveui"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","title":"Device Data"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/devices/api/summary":{"get":{"summary":"Get Summary","description":"Get device summary statistics","operationId":"get_summary_v1_devices_api_summary_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/v1/devices/api/device-types":{"get":{"summary":"Get Device Types","description":"Get all device types","operationId":"get_device_types_v1_devices_api_device_types_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/v1/devices/api/devices/{deveui}/uplinks":{"get":{"summary":"Get Device Uplinks","description":"Get recent uplinks for a device","operationId":"get_device_uplinks_v1_devices_api_devices__deveui__uplinks_get","parameters":[{"name":"deveui","in":"path","required":true,"schema":{"type":"string","title":"Deveui"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","description":"Number of uplinks to return","default":50,"title":"Limit"},"description":"Number of uplinks to return"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/devices/api/locations/hierarchy":{"get":{"summary":"Get Location Hierarchy","description":"Get complete location hierarchy (sites -> floors -> rooms -> zones)","operationId":"get_location_hierarchy_v1_devices_api_locations_hierarchy_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/v1/devices/api/zones":{"get":{"summary":"Get Zones","description":"Get all zones with full location context","operationId":"get_zones_v1_devices_api_zones_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/v1/devices/api/locations/site":{"post":{"summary":"Create Site","description":"Create a new site","operationId":"create_site_v1_devices_api_locations_site_post","requestBody":{"content":{"application/json":{"schema":{"type":"object","title":"Site Data"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/devices/api/locations/floor":{"post":{"summary":"Create Floor","description":"Create a new floor","operationId":"create_floor_v1_devices_api_locations_floor_post","requestBody":{"content":{"application/json":{"schema":{"type":"object","title":"Floor Data"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/devices/api/locations/room":{"post":{"summary":"Create Room","description":"Create a new room","operationId":"create_room_v1_devices_api_locations_room_post","requestBody":{"content":{"application/json":{"schema":{"type":"object","title":"Room Data"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/devices/api/locations/zone":{"post":{"summary":"Create Zone","description":"Create a new zone","operationId":"create_zone_v1_devices_api_locations_zone_post","requestBody":{"content":{"application/json":{"schema":{"type":"object","title":"Zone Data"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/devices/api/devices/{deveui}/location":{"put":{"summary":"Assign Device Location","description":"Assign device to a zone (location)","operationId":"assign_device_location_v1_devices_api_devices__deveui__location_put","parameters":[{"name":"deveui","in":"path","required":true,"schema":{"type":"string","title":"Deveui"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","title":"Location Data"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/devices/api/sites":{"get":{"summary":"Get Sites","description":"Get all active sites","operationId":"get_sites_v1_devices_api_sites_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/v1/devices/api/sites/{site_id}":{"get":{"summary":"Get Site","description":"Get individual site details","operationId":"get_site_v1_devices_api_sites__site_id__get","parameters":[{"name":"site_id","in":"path","required":true,"schema":{"type":"integer","title":"Site Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"summary":"Update Site","description":"Update site (creates archive entry)","operationId":"update_site_v1_devices_api_sites__site_id__put","parameters":[{"name":"site_id","in":"path","required":true,"schema":{"type":"integer","title":"Site Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","title":"Site Data"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/process-uplink":{"post":{"summary":"Process Uplink","description":"Process uplinks forwarded from ingest service\nStore processed uplinks in devices.uplinks table","operationId":"process_uplink_process_uplink_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health Check","description":"Enhanced health check with analytics forwarder status","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}